.glitch {
  position: relative;
  font-size: clamp(3rem, 8vw, 5.5rem);
  font-weight: 800;
  color: #fff;
  letter-spacing: 0.05em;
  text-transform: uppercase;
}

/* pseudo layers */
.glitch::before,
.glitch::after {
  content: attr(data-text);
  position: absolute;
  inset: 0;
  opacity: 0;
  pointer-events: none;
}

/* red channel */
.glitch::before {
  color: rgba(255, 0, 0, 0.6);
  transform: translate(0.5px, 0);
}

/* cyan channel */
.glitch::after {
  color: rgba(0, 255, 255, 0.6);
  transform: translate(-0.5px, 0);
}

/* glitch happens briefly */
.glitch.glitch-active::before {
  opacity: 0.9;
  animation: glitch-red 0.22s steps(3, end);
}

.glitch.glitch-active::after {
  opacity: 0.9;
  animation: glitch-cyan 0.26s steps(3, end);
}

@keyframes glitch-red {
  0% {
    transform: translate(0, 0);
  }
  30% {
    transform: translate(2px, -1px) skewX(-2deg);
  }
  60% {
    transform: translate(-1px, 1px) skewX(1deg);
  }
  100% {
    transform: translate(0, 0);
  }
}

@keyframes glitch-cyan {
  0% {
    transform: translate(0, 0);
  }
  30% {
    transform: translate(-2px, 1px) skewX(2deg);
  }
  60% {
    transform: translate(1px, -1px) skewX(-1deg);
  }
  100% {
    transform: translate(0, 0);
  }
}
